<!DOCTYPE html>
<html>
  <head>
    <title>Demo Page</title>
    <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/datamaps/0.5.7/datamaps.world.min.js"></script>
    <style>

      body, html {
        text-align: center;
        padding: 0px;
        margin: 0px;
        border: 0px none;
        width: 100%;
        height: 100%;
      }

      #container {
        position: absolute;
        left: 0;
        right: 0;
        margin: auto;
        width: 900px;
        height: 500px;
        background-color: black;
      }

    </style>
  </head>
  <body>
    <div id="container"></div>
    <script>
    (function() {

      function getRandomInRange(from, to, fixed) {
        return (Math.random() * (to - from) + from).toFixed(fixed) * 1;
      }

      locations = [];
      for (i = 0; i < 10; i++) {
        locations.push({
            latitude: getRandomInRange(-90, 90, 3),
            longitude: getRandomInRange(-180, 180, 3)
          });
      }

      var map = new Datamap({
        element: document.getElementById('container'),
        fills: {
          defaultFill: 'black'
        },
        geographyConfig: {
          borderWidth: 1,
          borderOpacity: 1,
          borderColor: 'white'
        }
      });

      map.arc([{
        origin: locations[0],
        destination: locations[1]
      }], {
        greatArc: false,
        animationSpeed: 4000
      });

      window.setTimeout(function () {
        map.arc([{
          origin: locations[2],
          destination: locations[3],
          options: {
            greatArc: false,
            animationSpeed: 2000
          }
        },

        {
          origin: locations[0],
          destination: locations[1],
          options: {
            greatArc: false,
            animationSpeed: 0
          }
        },

        ]);
      }, 4000);


    })();
    </script>
  </body>
</html>
